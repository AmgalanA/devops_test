# Загружаем стандартное изображение Go
from golang:1.20

# Указываем рабочую директорию /app
WORKDIR /app

# Копируем файл main.go с кодом в текущий контейнер
COPY main.go .

# С помощью этих команд скачиваем все необходимые зависимости для Go
RUN go mod init example.com/app && go mod tidy

# Собираем приложение
RUN go build -o app .

# В командной строке запускаем приложение
CMD ["./app"]
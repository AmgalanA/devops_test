1. Установка Kali Linux на QEMU на Ubuntu 22.04

1.1. Для начала необходимо установить среду виртуализации QEMU.

1.1.1. Обновим текущие пакеты:
```bash
sudo apt-get update
```
1.1.2. Далее установим систему эмуляции QEMU:
```bash
sudo apt-get install qemu-system
```
1.1.3. Далее для эмуляции двоичных файлов в Linux нужно установить:
```bash
sudo apt-get install qemu-user-static
```
1.1.4. Затем необходимо установить демон libvirtd, который предоставляет набор инструментов для управления виртуализацией на машине.
```bash
sudo apt install libvirt-daemon
```
Далее необходимо добавить libvity в автозагрузку, чтобы сервис запускался каждый раз при входе в систему:
```bash
sudo systemctl enable libvirtd
```
или
```bash
sudo service libvirtd enable
```
Затем запускаем сервис:
```bash
sudo systemctl start libvirtd
```
или
```bash
sudo service libvirtd start
```
Не забываем запускать эти команды с привелегиями суперпользователя.

Далее на машине находим приложение Virtual Machine Manager и запускаем его.

1.2. Устанавливаем Kali Linux на QEMU.
Все названия параметров в Virtual Machine Manager приведены с учётом того, что основная ОС на английском

1.2.1. На сайте https://www.kali.org/get-kali/#kali-installer-images скачиваем образ.

1.2.2. В Virtual Machine Manager нажимаем File -> New Virtual Machine

1.2.3. В появившемся окне выбираем Local install media, что позволит нам выбрать ISO образ. Нажимаем Forward

1.2.4. В сностке Choose ISO or CDROM install media выбираем скачанный образ Kali. Ниже выбираем ОС, к примеру Debian 12. Идём далее

1.2.5. Выделяем оперативную память и количество процессоров. К примеру 4МБ оперативки и 2 процессора. Нажимаем Forward

1.2.6. В следующем окне ставим галочку напротив параметра Enable storage for this virtual machine, иначе мы не сможем ничего сохранять на виртуалке. Если нет существующего диска, выбираем Create a disk image for the virtual machine. Выделяем количество гигабайтов для нового диска (к примеру 20ГБ). Иначе можно выбрать существующий диск и использовать его. Нажимаем Forward.

1.2.7. Напротив параметра name указываем имя для машины. Также ниже проверяем все параметры для создания машины, дабы убедиться, что всё правильно. Если есть какие-то ошибки, нажимаем Back и исправляем параметры на нужные значения. Если ошибок нет, нажимаем Finish

1.2.8. Увидим, как создалась машина. Запускаем её и нажимаем на Open.

1.2.9. Далее идёт стандартная установка Kali Linux. Здесь можно будет выбрать дополнительные параметры для загрузки. Во время загрузки указываем имя для нового пользователя и пароль для него, также указываем пароль для суперпользователя. 

1.2.10. Если всё прошло успешно, увидим окно для входа в систему, в котором надо указать имя созданного пользователя и пароль от него

2. Создание приложения.

2.1. Создаём папку и в ней создаём файлы: main.go, docker-compose.yml, Dockerfile и .env.

2.2. В файле main.go реализовано простое приложение, которое подключается к БД Postgres и делает обращения к ней (запись и чтение). Обращение к БД происходит на порту 8080. Чтобы сделать запись в БД в таблицу messages с текстом Hello from Docker, нужно перейти на http://localhost:8080/save. Аналогично с чтением с БД, нужно перейти на http://localhost:8080/read 

3. Собираем докер контейнер в Dockerfile, указываем все необходимые команды для сборки. Этот файл определяет как собирать и запускать приложение в контейнере.

4. В файле docker-compose.yml указываем PostgreSQL как зависимость для нашего приложения.
Указываем порт 8080, на котором будет работать приложение, также под environment указываем все переменные окружения POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_DB, которые указаны в файле .env. Для зависимости postgres указываем стандартное изображение из docker-а и все необходимые переменные.

5. Запускаем контейнер с помощью docker-compose:
```bash
docker-compose up --build
```

Возможно эту команду нужно будет использовать с привелегиями суперпользователя.

Если всё пройдёт успешно, в терминале появится надпись:

Server is starting on port 8080...

Приложение можно просмотреть на http://localhost:8080.